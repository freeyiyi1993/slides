<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>TCP/IP 入门</title>
		<meta name="description" content="">
		<meta name="author" content="zensh">
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
		<link rel="stylesheet" href="../assets/reveal.js/css/reveal.css">
		<link rel="stylesheet" href="../assets/reveal.js/css/theme/beige.css" id="theme">
		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="../assets/reveal.js/lib/css/zenburn.css">
		<link rel="stylesheet" href="css/app.css">
		<!--[if lt IE 9]>
		<script src="../assets/reveal.js/lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>
	<body>
		<div class="reveal zensh">
			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<p>
						<strong>互联网通信协议业界标准</strong>
					</p>
					<h1>TCP/IP 入门</h1>
					<p>
						<small><a href="https://github.com/zensh">github.com/zensh</a><span> | </span><a href="http://weibo.com/zensh">@ZENSH严清</a></small>
					</p>
				</section>

				<section data-background="img/book.jpg"></section>

				<section>
					<section>
						<h3>计算机网络协议</h3>
						<img data-src="img/net_protocols.png">
					</section>
					<section>
						<h3>为什么需要一个标准协议</h3>
						<img data-src="img/standard_protocols.png">
					</section>
					<section>
						<p>协议就是各种计算机设备之间进行网络通信时事先达成的一种“协定”，使得不同厂商的设备、不同的 CPU、不同的操作系统组成的计算机之间，只要遵循相同的协议就能够实现通信</p>
					</section>
				</section>

				<section>
					<section>
						<h3>OSI 协议分层模型</h3>
						<p>OSI 是 ISO(International Organization for Standards) 对通信系统制定了一个国际标准，没有普及，但其协议分层模型成为了网络协议制定的参考模型</p>
					</section>
					<section>
						<h3>协议分层</h3>
						<img data-src="img/osi-01.png">
					</section>
					<section>
						<h3>分层的优势</h3>
						<img data-src="img/osi-02.png">
					</section>
					<section data-background="img/osi-03.png"></section>
					<section>
						<h3>一个简单的计算机网络设备组成</h3>
						<img data-src="img/network-equipment.png">
					</section>
					<section>
						<h3>网络设备对应的分层</h3>
						<img data-src="img/network-equipment-osi.png">
					</section>
				</section>

				<section>
					<section>
						<h3>TCP/IP 通信协议群</h3>
						<img data-src="img/tcpip-01.png">
					</section>
					<section>
						<h3>TCP/IP 的诞生</h3>
						<img data-src="img/tcpip-02.png">
					</section>
					<section>
						<p>TCP/IP 由 IETF(The Internet Engineering Task Force) 讨论定制，各种协议标准化之后会列入 RFC(Request For Comment) 文档并公布</p>
						<img data-src="img/tcpip-03.png">
					</section>
					<section>
						<h3>TCP/IP 协议分层模型</h3>
						<img data-src="img/tcpip-04.png">
					</section>
					<section>
						<h3>TCP/IP 协议分层数据包示意</h3>
						<img data-src="img/tcpip-05.png">
					</section>
					<section data-background="img/tcpip-06.png"></section>
					<section>
						<h3>TCP/IP 协议分层数据包结构</h3>
						<img data-src="img/tcpip-07.png">
					</section>
				</section>

				<section>
					<section>
						<h3>互联网基础名词</h3>
						<p>“互联网”，Internet，是指由 ARPANET 发展而来、互连全世界的计算机网络</p>
					</section>
					<section>
						<h3>无数异构网络互连组成巨型网络</h3>
						<img data-src="img/internet-01.png">
					</section>
					<section>
						<h3>内网与外网</h3>
						<img data-src="img/internet-02.png">
					</section>
					<section>
						<h3>面向有连接型和面向无连接型</h3>
						<img data-src="img/internet-03.png">
					</section>
					<section>
						<h3>电路交换和分组交换</h3>
						<img data-src="img/internet-04.png">
					</section>
					<section>
						<h3>单播、广播、多播、任播</h3>
						<img data-src="img/internet-05.png">
					</section>
					<section>
						<h3>MAC 地址，唯一性</h3>
						<img data-src="img/internet-06.png">
						<p>
							<strong>MAC(48位) 60:03:08:9f:46:f8</strong>
						</p>
						<p>用于数据链路层的节点识别，根据 IEEE802.3 规范，有线、无线 LAN、蓝牙等设备均使用 MAC，烧入硬件</p>
					</section>
					<section>
						<h3>IP 地址，唯一性，层次性</h3>
						<img data-src="img/internet-07.png">
						<p>
							<strong>IPv4(32位) 127.0.0.1</strong>
						</p>
					</section>
					<section>
						<img data-src="img/internet-08.png">
						<p>IPv6(128位)</p>
						<p>IP 地址用于识别主机和路由，由 IPv4(32)、IPv6(128) 定义</p>
					</section>
					<section>
						<img data-src="img/internet-09.png">
					</section>
				</section>

				<section>
					<section>
						<h3>数据链路层(Data Link)</h3>
						<img data-src="img/datalink-01.png">
					</section>
					<section>
						<img data-src="img/datalink-02.png">
						<p>TCP/IP 对于数据链路层和物理层未做定义，是以这两层功能实现为前提</p>
					</section>
					<section>
						<img data-src="img/datalink-03.png">
						<p>数据链路层是对物理层的抽象，解决各种网络结构内计算设备之间的数据通信，通过 MAC 地址识别目标</p>
					</section>
					<section>
						<img data-src="img/datalink-04.png">
						<p>共享介质之CSMA(载波监听多路访问)，争夺数据传输权，易冲突，易拥堵</p>
					</section>
					<section>
						<img data-src="img/datalink-05.png">
						<p>共享介质之改良的 CSMA/CD，先检查再发送数据</p>
					</section>
					<section>
						<img data-src="img/datalink-06.png">
						<p>共享介质之令牌传递，获得令牌才能发送数据</p>
					</section>
					<section>
						<img data-src="img/datalink-07.png">
						<p>独享介质传输</p>
					</section>
					<section>
						<img data-src="img/datalink-08.png">
						<p>虚拟局域网 VLAN</p>
					</section>
					<section>
						<h3>数据链路之以太网(Ethernet)</h3>
						<img data-src="img/datalink-09.png">
						<img data-src="img/datalink-10.png">
					</section>
					<section>
						<h3>以太网帧前导码(Preamble)</h3>
						<img data-src="img/datalink-11.png">
						<p>前导码末尾叫做 SFD(Start Frame Delimiter)</p>
					</section>
					<section>
						<h3>以太网帧本体</h3>
						<img data-src="img/datalink-12.png">
						<p>FCS(Frame Check Sequence) 用于校验数据</p>
						<p>MTU(Maximum Transmission Unit) 最大传输单元</p>
					</section>
					<section>
						<h3>以太网帧主要数据类型</h3>
						<img data-src="img/datalink-13.png">
					</section>
					<section>
						<h3>带有 VLAN 标记的以太网帧</h3>
						<img data-src="img/datalink-14.png">
					</section>
					<section>
						<h3>IEEE802.3 LLC/SNAP 细分</h3>
						<img data-src="img/datalink-15.png">
					</section>
					<section>
						<h3>无线通信</h3>
						<img data-src="img/datalink-16.png">
						<p>介质访问控制使用 CSAM/CD 类似的 CSAM/CA </p>
					</section>
					<section>
						<h3>PPP(Point to Point Protocol) 通信</h3>
						<img data-src="img/datalink-17.png">
						<img data-src="img/datalink-18.png">
						<p>不涉及 MAC 寻址，但有用户验证</p>
					</section>
					<section>
						<h3>PPPoE(PPP over Ethernet) 通信</h3>
						<img data-src="img/datalink-19.png">
					</section>
					<section>
						<h3>其他常用数据链路</h3>
						<img data-src="img/datalink-20.png">
					</section>
					<section>
						<h3>公用网络的数据链路之 ADSL</h3>
						<img data-src="img/datalink-21.png">
					</section>
					<section>
						<h3>虚拟专用网络 VPN</h3>
						<img data-src="img/datalink-22.png">
					</section>
				</section>

				<section>
					<section>
						<h3>网络层(Network)</h3>
						<img data-src="img/network-01.png">
					</section>
					<section>
						<h3>网际协议 IP(Internet Protocal)</h3>
						<img data-src="img/network-02.png">
					</section>
					<section>
						<h3>路由控制 Routing</h3>
						<img data-src="img/network-03.png">
					</section>
					<section>
						<ul>
							<li>IP 层是对数据链路层的抽象，它能跨越以太网、无线 LAN、PPP 等不同的数据链路层，将数据传送到目的地</li>
							<li>由于不同数据链路层的 MTU 不同，IP 数据包传输过程有分片和重组（IP Fragmentation）</li>
							<li>IP 属于面向无连接型的传输，简化实现，高速传输，但不能保证数据送达（TCP 层的任务）</li>
						</ul>
					</section>
					<section>
						<img data-src="img/network-04.png">
						<p>IP 地址分层：主机标志和网络标志</p>
					</section>
					<section>
						<img data-src="img/network-05.png">
						<p>IP 地址的网络标志与路由控制</p>
					</section>
					<section>
						<img data-src="img/network-06.png">
						<p>IPv4 数据包</p>
					</section>
					<section>
						<img data-src="img/network-07.png">
						<p>IPv6 数据包</p>
					</section>
					<section>
						<img data-src="img/network-08.png">
						<img data-src="img/network-09.png">
						<p>IPv6 扩展首部</p>
					</section>
					<section>
						<h3>IP 协议相关技术</h3>
						<p>仅凭 IP 协议无法完成通信，还有一系列辅助技术，包括 DNS、ARP、ICMP、DHCP、NAT等，另外还有 IP隧道、IP多播、IP任播、质量控制(QoS)、Mobile IP等</p>
					</section>
					<section>
						<h3>DNS(Domain Name System)</h3>
						<img data-src="img/network-10.png">
					</section>
					<section>
						<img data-src="img/network-11.png">
						<p>DNS 相当于互联网的分布式数据库</p>
					</section>
					<section>
						<h3>ARP(Address Resolution Protocal)</h3>
						<img data-src="img/network-12.png">
						<p>以目标 IP 地址为线索，来定位下一个应该接收数据包的网络设备的 MAC 地址，如果目标不在同一个链路，ARP 查找的是下一跳路由器的 MAC 地址。ARP 只适用于 IPv4，IPv6 用 ICMPv6 的邻居探索代替</p>
					</section>
					<section>
						<h3>ICMP(Internet Control Message Protocol)</h3>
						<p>用于在 IP 主机、路由器之间传递控制消息。控制消息是指网络通不通、主机是否可达、路由是否可用等网络本身的消息。这些控制消息虽然并不传输用户数据，但是对于用户数据的传递起着重要的作用。</p>
					</section>
					<section>
						<img data-src="img/network-13.png">
						<p>ICMP 应用示例</p>
					</section>
					<section>
						<img data-src="img/network-14.png">
						<p>ICMP 消息类型</p>
					</section>
					<section>
						<img data-src="img/network-15.png">
						<p>TTL、ICMP 超时消息与 traceroute</p>
					</section>
					<section>
						<img data-src="img/network-16.png">
						<p>ICMP 回送消息与 ping</p>
					</section>
					<section>
						<h3>DHCP(Dynamic Host Configuration Protocol)</h3>
						<img data-src="img/network-17.png">
						<ul>
							<li>给内部网络或网络服务供应商自动分配IP地址</li>
							<li>给用户或者内部网络管理员作为对所有计算机作中央管理的手段</li>
						</ul>
					</section>
					<section>
						<h3>NAT(Network Address Translation)</h3>
						<img data-src="img/network-18.png">
						<p>NAT不仅能解决 IP 地址不足的问题，而且还能够有效地避免来自网络外部的攻击，隐藏并保护网络内部的计算机。</p>
					</section>
				</section>

				<section>
					<section>
						<h3>传输层(Transport)</h3>
						<img data-src="img/datalink-01.png">
					</section>
					<section>
						<img data-src="img/transport-01.png">
						<ul>
							<li>传输层解决应用程序之间的通信</li>
							<li>通常采用“源 IP 地址”，“目标 IP 地址”，“协议号”，“源端口”，“目标端口”来识别一个通信进程</li>
						</ul>
					</section>
					<section>
						<h3>UDP(User Datagram Protocal)</h3>
						<ul>
							<li>面向无连接通信，随时发送数据</li>
							<li>按照原始数据装包发送，不分割数据</li>
							<li>没有复杂的控制机制</li>
						</ul>
						<p>简单高效的通信，适用于</p>
						<ul>
							<li>包总量较少的通信(DNS、SNMP)</li>
							<li>音视频多媒体流等及时通信</li>
							<li>广播通信等</li>
						</ul>
					</section>
					<section>
						<h3>UDP 首部格式</h3>
						<img data-src="img/transport-02.png">
					</section>
					<section>
						<h3>TCP(Transmission Control Protocol)</h3>
						<ul>
							<li>面向有连接通信，先建立连接再发送数据</li>
							<li>通过复杂的控制，确保数据按顺序到达，无重复</li>
						</ul>
					</section>
					<section>
						<img data-src="img/transport-03.png">
						<p>通过序列号和确认应答提高可靠性</p>
					</section>
					<section>
						<img data-src="img/transport-04.png">
						<img data-src="img/transport-05.png">
						<p>对未应答的处理</p>
					</section>
					<section>
						<img data-src="img/transport-06.png">
						<p>根据网络环境的变化动态计算超时时间，一般为 0.5 秒整数倍，如果达到一定重发次数任然失败则判定为网络异常，强行关闭连接</p>
					</section>
					<section>
						<img data-src="img/transport-07.png">
						<p>一个完整的 TCP 连接生命周期</p>
					</section>
					<section>
						<img data-src="img/transport-08.png">
						<p>TCP 以段为单位发送数据，分割数据，自动调整最大消息长度 MSS(Maximum Segment Size)</p>
					</section>
					<section>
						<img data-src="img/transport-09.png">
						<p>TCP 利用多窗口发送提高速度</p>
					</section>
					<section>
						<img data-src="img/transport-10.png">
						<p>TCP 滑动窗口控制</p>
					</section>
					<section>
						<img data-src="img/transport-11.png">
						<p>TCP 窗口控制和重发</p>
					</section>
					<section>
						<img data-src="img/transport-12.png">
						<p>TCP 窗口控制和重发</p>
					</section>
					<section>
						<img data-src="img/transport-13.png">
						<p>TCP 窗口控制实现流量控制</p>
					</section>
					<section>
						<h3>TCP 首部格式</h3>
						<img data-src="img/transport-14.png">
					</section>
				</section>

				<section>
					<h3>互联网的核心：路由控制协议</h3>
					<img data-src="img/transport-15.png">
				</section>
			</div>
		</div>

		<script src="../assets/reveal.js/lib/js/head.min.js"></script>
		<script src="../assets/reveal.js/js/reveal.js"></script>
		<script src="../assets/js/app.js"></script>
    <script src="//google-analytics.com/ga.js"></script>
	</body>
</html>
